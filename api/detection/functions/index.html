<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Noblis">
  <link rel="shortcut icon" href="../../../img/favicon.ico">
  <title>Functions - JanICE</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Functions";
    var mkdocs_page_input_path = "api/detection/functions.md";
    var mkdocs_page_url = "/api/detection/functions/";
  </script>
  
  <script src="../../../js/jquery-2.1.1.min.js"></script>
  <script src="../../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../../.." class="icon icon-home"> JanICE</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../../..">Overview</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">API</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../software_concepts/">Software Concepts</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Miscellaneous</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../misc/functions/">Functions</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Error Handling</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../errors/overview/">Overview</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../errors/enums/">Enums</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../errors/functions/">Functions</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">I/O</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../io/overview/">Overview</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../io/structs/">Structs</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../io/typedefs/">Typedefs</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../io/functions/">Functions</a>
                </li>
    </ul>
                </li>
                <li class=" current">
                    
    <span class="caption-text">Detection</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../overview/">Overview</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../structs/">Structs</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../typedefs/">Typedefs</a>
                </li>
                <li class="toctree-l3 current">
                    
    <a class="current" href="./">Functions</a>
    <ul class="subnav">
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Functions</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#JaniceDetectionItNext">janice_detection_it_next</a></li>
            
                <li class="toctree-l3"><a href="#JaniceDetectionItReset">janice_detection_it_reset</a></li>
            
                <li class="toctree-l3"><a href="#JaniceFreeDetectionIt">janice_free_detection_it</a></li>
            
                <li class="toctree-l3"><a href="#JaniceCreateDetection">janice_create_detection</a></li>
            
                <li class="toctree-l3"><a href="#JaniceDetect">janice_detect</a></li>
            
                <li class="toctree-l3"><a href="#JaniceCreateDetectionIt">janice_create_detection_it</a></li>
            
                <li class="toctree-l3"><a href="#JaniceSerializeDetection">janice_serialize_detection</a></li>
            
                <li class="toctree-l3"><a href="#JaniceDeserializeDetection">janice_deserialize_detection</a></li>
            
                <li class="toctree-l3"><a href="#JaniceReadDetection">janice_read_detection</a></li>
            
                <li class="toctree-l3"><a href="#JaniceWriteDetection">janice_write_detection</a></li>
            
                <li class="toctree-l3"><a href="#JaniceFreeDetection">janice_free_detection</a></li>
            
                <li class="toctree-l3"><a href="#JaniceFreeDetections">janice_free_detections</a></li>
            
            </ul>
        
    </li>

    </ul>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Enrollment</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../enrollment/overview/">Overview</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../enrollment/enums/">Enums</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../enrollment/structs/">Structs</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../enrollment/typedefs/">Typedefs</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../enrollment/functions/">Functions</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Gallery</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../gallery/overview/">Overview</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../gallery/structs/">Structs</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../gallery/typedefs/">Typedefs</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../gallery/functions/">Functions</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Comparison</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../comparison/overview/">Overview</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../comparison/typedefs/">Typedefs</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../comparison/functions/">Functions</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Clustering</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../clustering/overview/">Overview</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../clustering/structs/">Structs</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../clustering/typedefs/">Typedefs</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../clustering/functions/">Functions</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Interfaces</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../interfaces/cpp/">C++</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../interfaces/python/">Python</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../interfaces/csharp/">C#</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../interfaces/java/">Java</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../LICENSE/">License</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../..">JanICE</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../..">Docs</a> &raquo;</li>
    
      
        
          <li>API &raquo;</li>
        
      
        
          <li>Detection &raquo;</li>
        
      
    
    <li>Functions</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/Noblis/janice/edit/master/docs/api/detection/functions.md"
          class="icon icon-github"> Edit on Github</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="JaniceDetectionItNext">janice_detection_it_next</h2>
<p>Get the next element in a detection track.</p>
<h4 id="JaniceDetectionItNextSignature">Signature</h4>
<pre class="code"><code>JANICE_EXPORT JaniceError janice_detection_it_next(JaniceDetectionIterator it,
                                                   JaniceRect* rect,
                                                   uint32_t* frame,
                                                   float* confidence);</code></pre>


<h4 id="JaniceDetectionItNextThreadSafety">Thread Safety</h4>
<p>This function is reentrant.</p>
<h4 id="JaniceDetectionItNextConfidence">Confidence</h4>
<p>The confidence value indicates a likelihood that the rectangle actually bounds
an object of interest. It is <strong>NOT</strong> required to be a probability and often
only has meaning relative to other confidence values from the same algorithm.
The only restriction is that a larger confidence value indicates a greater
likelihood that the rectangle bounds an object.</p>
<h4 id="JaniceDetectionItNextParameters">Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>it</td>
<td><a href="../typedefs/#JaniceDetectionIterator">JaniceDetectionIterator</a></td>
<td>A detection iterator object</td>
</tr>
<tr>
<td>rect</td>
<td><a href="../structs/#JaniceRect">JaniceRect*</a></td>
<td>The location of a object of interest</td>
</tr>
<tr>
<td>frame</td>
<td>[uint32_t*]</td>
<td>The frame index for an object of interest.</td>
</tr>
<tr>
<td>confidence</td>
<td>[float*]</td>
<td>The <a href="#JaniceDetectionItNextConfidence">confidence</a> of the location.</td>
</tr>
</tbody>
</table>
<h2 id="JaniceDetectionItReset">janice_detection_it_reset</h2>
<p>Reset an iterator back to its initial state.</p>
<h4 id="JaniceDetectionItResetSignature">Signature</h4>
<pre class="code"><code>JANICE_EXPORT JaniceError janice_detection_it_reset(JaniceDetectionIterator it);</code></pre>


<h4 id="JaniceDetectionItResetThreadSafety">Thread Safety</h4>
<p>This function is reentrant.</p>
<h4 id="JaniceDetectionItResetParameters">Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>it</td>
<td><a href="../typedefs/#JaniceDetectionIterator">JaniceDetectionIterator</a></td>
<td>The iterator object to reset.</td>
</tr>
</tbody>
</table>
<h2 id="JaniceFreeDetectionIt">janice_free_detection_it</h2>
<p>Free any memory associated with a detection iterator object.</p>
<h4 id="JaniceFreeDetectionItSignature">Signature</h4>
<pre class="code"><code>JANICE_EXPORT JaniceError janice_free_detection_it(JaniceDetectionIterator* it);</code></pre>


<h4 id="JaniceFreeDetectionItThreadSafety">Thread Safety</h4>
<p>This function is reentrant.</p>
<h4 id="JaniceFreeDetectionItParameters">Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>it</td>
<td><a href="../typedefs/#JaniceDetectionIterator">JaniceDetectionIterator*</a></td>
<td>The iterator object to free.</td>
</tr>
</tbody>
</table>
<h2 id="JaniceCreateDetection">janice_create_detection</h2>
<p>Create a detection from a known rectangle. This is useful if a human has
identified an object of interest and would like to run subsequent API
functions on it. In the case where the input media is a video the given
rectangle is considered an initial sighting of the object of interest. The
implementation may detect additional sightings of the object in successive
frames.</p>
<h4 id="JaniceCreateDetectionSignature">Signature</h4>
<pre class="code"><code>JANICE_EXPORT JaniceError janice_create_detection(JaniceConstMedia media,
                                                  const JaniceRect rect,
                                                  uint32_t frame,
                                                  JaniceDetection* detection);</code></pre>


<h4 id="JaniceCreateDetectionThreadSafety">Thread Safety</h4>
<p>This function is reentrant.</p>
<h4 id="JaniceCreateDetectionFaceRecognition">Face Recognition</h4>
<p>The provided rectangle will encapsulate a face in the media.</p>
<h4 id="JaniceCreateDetectionCameraIdentification">Camera Identification</h4>
<p>The provided rectangle will encapsulate a region of interest in the media. Often the
rectangle will simply border the entire image. </p>
<h4 id="JaniceCreateDetectionParameters">Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>media</td>
<td><a href="../../io/typedefs/#JaniceConstMedia">JaniceConstMedia</a></td>
<td>A media object to create the detection from</td>
</tr>
<tr>
<td>rect</td>
<td>const <a href="../structs/#JaniceRect">JaniceRect</a></td>
<td>A rectangle that bounds the object of interest</td>
</tr>
<tr>
<td>frame</td>
<td>uint32_t</td>
<td>An index to the frame in the media the rectangle refers to. If the media is an image this should be 0.</td>
</tr>
<tr>
<td>detection</td>
<td><a href="../typedefs/#JaniceDetection">JaniceDetection*</a></td>
<td>An uninitialized pointer to a detection object.</td>
</tr>
</tbody>
</table>
<h4 id="JaniceCreateDetectionExample">Example</h4>
<pre class="code"><code>JaniceMedia media; // Where media is a valid media object created previously

JaniceRect rect; // Create a bounding rectangle around an object of interest
rect.x      = 10; // The rectangle should fall within the bounds of the media
rect.y      = 10; // This code assumes media width &gt; 110 and media height &gt; 110
rect.width  = 100;
rect.height = 100;

JaniceDetection detection = NULL; // best practice to initialize to NULL
if (janice_create_detection(media, rect, 0 /* frame */, &amp;detection) != JANICE_SUCCESS)
    // ERROR!</code></pre>


<h2 id="JaniceDetect">janice_detect</h2>
<p>Automatically detect objects in a media object. See
<a href="../overview/">the detection overview</a> for an overview of detection in the
context of this API.</p>
<h4 id="JaniceDetectSignature">Signature</h4>
<pre class="code"><code>JANICE_EXPORT JaniceError janice_detect(JaniceConstMedia media,
                                        uint32_t min_object_size,
                                        JaniceDetections* detections,
                                        uint32_t* num_detections);</code></pre>


<h4 id="JaniceDetectThreadSafety">Thread Safety</h4>
<p>This function is reentrant.</p>
<h4 id="JaniceDetectMinimumObjectSize">Minimum Object Size</h4>
<p>This function specifies a minimum object size as one of its parameters. This
value indicates the minimum size of objects that the user would like to see
detected. Often, increasing the minimum size can improve runtime of algorithms.
The size is in pixels and corresponds to the length of the smaller side of the
rectangle. This means a detection will be returned if and only if its smaller
side is larger than the value specified. If the user does not wish to specify a
minimum width 0 can be provided.</p>
<h4 id="JaniceDetectTracking">Tracking</h4>
<p>When the input media is a video many implementations will implement a form of
object tracking to correlate multiple sightings of the same object into a
single structure. There are a number of approaches and algorithms to implement
object tracking. This API makes NO attempt to define or otherwise constrain how
implementations handle tracking. Users should be warned that an implementation
might output multiple tracks for a single object and that a single track might
contain multiple objects in it by mistake. In some cases, which should be
clearly documented in implementation documentation, it might be beneficial to
perform a post-processing clustering step on the results tracks, which could
help correlate multiple tracks of the same object.</p>
<h4 id="JaniceDetectFaceRecognition">Face Recognition</h4>
<p>This function detects faces in the media.</p>
<h4 id="JaniceDetectCameraIdentification">Camera Identification</h4>
<p>This function provides a list of size 1 where the only entry is a detection
with a rect that encapsulates the entire image.</p>
<h4 id="JaniceDetectParameters">Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>media</td>
<td><a href="../../io/typedefs/#JaniceConstMedia">JaniceConstMedia</a></td>
<td>A media object to create the detection from.</td>
</tr>
<tr>
<td>min_object_size</td>
<td>uint32_t</td>
<td>A minimum object size. See <a href="#JaniceDetectMinimumObjectSize">Minimum Object Size</a></td>
</tr>
<tr>
<td>detections</td>
<td><a href="../typedefs/#JaniceDetections">JaniceDetections*</a></td>
<td>An uninitialized array to hold all of the detections detected in the media object.</td>
</tr>
<tr>
<td>num_detections</td>
<td>uint32_t*</td>
<td>The number of detections detected</td>
</tr>
</tbody>
</table>
<h4 id="JaniceDetectExample">Example</h4>
<pre class="code"><code>JaniceMedia media; // Where media is a valid media object created previously
const uint32_t min_object_size = 24; // Only find objects where the smaller
                                     // side is &gt; 24 pixels
JaniceDetection* detections = NULL; // best practice to initialize to NULL
uint32_t num_detections; // Will be populated with the size of detections

if (janice_detect(media, min_object_size, &amp;detections, &amp;num_detections) != JANICE_SUCCESS)
    // ERROR!</code></pre>


<h2 id="JaniceCreateDetectionIt">janice_create_detection_it</h2>
<p>Create an iterator to iterate over detection elements.</p>
<h4 id="JaniceCreateDetectionItSignature">Signature</h4>
<pre class="code"><code>JANICE_EXPORT JaniceError janice_create_detection_it(JaniceConstDetection detection,
                                                     JaniceDetectionIterator* it);</code></pre>


<h4 id="JaniceCreateDetectionItThreadSafety">Thread Safety</h4>
<p>This function is reentrant.</p>
<h4 id="JaniceCreateDetectionItParameters">Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>detection</td>
<td><a href="../typedefs/#JaniceConstDetection">JaniceConstDetection</a></td>
<td>The detection to create the iterator from.</td>
</tr>
<tr>
<td>it</td>
<td><a href="../typedefs/#JaniceDetectionIterator">JaniceDetectionIterator*</a></td>
<td>An uninitialized detection iterator object. It is initialized as part of the function call.</td>
</tr>
</tbody>
</table>
<h2 id="JaniceSerializeDetection">janice_serialize_detection</h2>
<p>Serialize a <a href="../typedefs/#JaniceDetection">JaniceDetection</a> object to a flat buffer.</p>
<h4 id="JaniceSerializeDetectionSignature">Signature</h4>
<pre class="code"><code>JANICE_EXPORT JaniceError janice_serialize_detection(JaniceConstDetection detection,
                                                     JaniceBuffer* data,
                                                     size_t* len);</code></pre>


<h4 id="JaniceSerializeDetectionThreadSafety">Thread Safety</h4>
<p>This function is reentrant.</p>
<h4 id="JaniceSerializeDetectionParameters">Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>detection</td>
<td><a href="../typedefs/#JaniceConstDetection">JaniceConstDetection</a></td>
<td>A detection object to serialize</td>
</tr>
<tr>
<td>data</td>
<td><a href="#../io/typedefs.md#JaniceBuffer">JaniceBuffer*</a></td>
<td>An uninitialized buffer to hold the flattened data.</td>
</tr>
<tr>
<td>len</td>
<td>size_t*</td>
<td>The length of the flat buffer after it is filled.</td>
</tr>
</tbody>
</table>
<h4 id="JaniceSerializeDetectionExample">Example</h4>
<pre class="code"><code>JaniceDetection detection; // Where detection is a valid detection created
                           // previously.

JaniceBuffer buffer = NULL;
size_t buffer_len;
janice_serialize_detection(detection, &amp;buffer, &amp;buffer_len);</code></pre>


<h2 id="JaniceDeserializeDetection">janice_deserialize_detection</h2>
<p>Deserialize a <a href="../typedefs/#JaniceDetection">JaniceDetection</a> object from a flat buffer.</p>
<h4 id="JaniceDeserializeDetectionSignature">Signature</h4>
<pre class="code"><code>JANICE_EXPORT JaniceError janice_deserialize_detection(const JaniceBuffer data,
                                                       size_t len,
                                                       JaniceDetection* detection);</code></pre>


<h4 id="JaniceDeserializeDetectionThreadSafety">Thread Safety</h4>
<p>This function is reentrant.</p>
<h4 id="parameters">Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>const <a href="../../io/typedefs/#JaniceBuffer">JaniceBuffer</a></td>
<td>A buffer containing data from a flattened detection object.</td>
</tr>
<tr>
<td>len</td>
<td>size_t</td>
<td>The length of the flat buffer</td>
</tr>
<tr>
<td>detection</td>
<td><a href="../typedefs/#JaniceDetection">JaniceDetection*</a></td>
<td>An uninitialized detection object.</td>
</tr>
</tbody>
</table>
<h4 id="example">Example</h4>
<pre class="code"><code>const size_t buffer_len = K; // Where K is the known length of the buffer
JaniceBuffer buffer[buffer_len];

FILE* file = fopen(&quot;serialized.detection&quot;, &quot;r&quot;);
fread(buffer, 1, buffer_len, file);

JaniceDetection detection = nullptr;
janice_deserialize_detection(buffer, buffer_len, detection);

fclose(file);</code></pre>


<h2 id="JaniceReadDetection">janice_read_detection</h2>
<p>Read a detection from a file on disk. This method is functionally equivalent
to the following-</p>
<pre class="code"><code>const size_t buffer_len = K; // Where K is the known length of the buffer
JaniceBuffer buffer[buffer_len];

FILE* file = fopen(&quot;serialized.detection&quot;, &quot;r&quot;);
fread(buffer, 1, buffer_len, file);

JaniceDetection detection = nullptr;
janice_deserialize_detection(buffer, buffer_len, detection);

fclose(file);</code></pre>


<p>It is provided for memory efficiency and ease of use when reading from disk.</p>
<h4 id="JaniceReadDetectionSignature">Signature</h4>
<pre class="code"><code>JANICE_EXPORT JaniceError janice_read_detection(const char* filename,
                                                JaniceDetection* detection);</code></pre>


<h4 id="JaniceReadDetectionThreadSafety">Thread Safety</h4>
<p>This function is reentrant.</p>
<h4 id="JaniceReadDetectionParameters">Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>filename</td>
<td>const char*</td>
<td>The path to a file on disk</td>
</tr>
<tr>
<td>detection</td>
<td><a href="../typedefs/#JaniceDetection">JaniceDetection*</a></td>
<td>An uninitialized detection object.</td>
</tr>
</tbody>
</table>
<h4 id="JaniceReadDetectionExample">Example</h4>
<pre class="code"><code>JaniceDetection detection = NULL;
if (janice_read_detection(&quot;example.detection&quot;, &amp;detection) != JANICE_SUCCESS)
    // ERROR!</code></pre>


<h2 id="JaniceWriteDetection">janice_write_detection</h2>
<p>Write a detection to a file on disk. This method is functionally equivalent
to the following-</p>
<pre class="code"><code>JaniceDetection detection; // Where detection is a valid detection created
                           // previously.

JaniceBuffer buffer = NULL;
size_t buffer_len;
janice_serialize_detection(detection, &amp;buffer, &amp;buffer_len);

FILE* file = fopen(&quot;serialized.detection&quot;, &quot;w+&quot;);
fwrite(buffer, 1, buffer_len, file);

fclose(file);</code></pre>


<p>It is provided for memory efficiency and ease of use when writing to disk.</p>
<h4 id="JaniceWriteDetectionSignature">Signature</h4>
<pre class="code"><code>JANICE_EXPORT JaniceError janice_write_detection(JaniceConstDetection detection,
                                                 const char* filename);</code></pre>


<h4 id="JaniceWriteDetectionThreadSafety">ThreadSafety</h4>
<p>This function is reentrant.</p>
<h4 id="JaniceWriteDetectionParameters">Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>detection</td>
<td><a href="../typedefs/#JaniceConstDetection">JaniceConstDetection</a></td>
<td>The detection object to write to disk</td>
</tr>
<tr>
<td>filename</td>
<td>const char*</td>
<td>The path to a file on disk</td>
</tr>
</tbody>
</table>
<h4 id="JaniceWriteDetectionExample">Example</h4>
<pre class="code"><code>JaniceDetection detection; // Where detection is a valid detection created
                           // previously
if (janice_write_detection(detection, &quot;example.detection&quot;) != JANICE_SUCCESS)
    // ERROR!</code></pre>


<h2 id="JaniceFreeDetection">janice_free_detection</h2>
<p>Free any memory associated with a <a href="../structs/#JaniceDetectionType">JaniceDetectionType</a> object.</p>
<h4 id="JaniceFreeDetectionSignature">Signature</h4>
<pre class="code"><code>JANICE_EXPORT JaniceError janice_free_detection(JaniceDetection* detection);</code></pre>


<h4 id="JaniceFreeDetectionThreadSafety">Thread Safety</h4>
<p>This function is reentrant.</p>
<h4 id="JaniceFreeDetectionParameters">Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>detection</td>
<td><a href="../typedefs/#JaniceDetection">JaniceDetection*</a></td>
<td>A detection object to free. Best practice dictates the pointer should be set to <code>NULL</code> after it is freed.</td>
</tr>
</tbody>
</table>
<h4 id="JaniceFreeDetectionExample">Example</h4>
<pre class="code"><code>JaniceDetection detection; // Where detection is a valid detection object
                           // created previously
if (janice_free_detection(&amp;detection) != JANICE_SUCCESS)
    // ERROR!</code></pre>


<h2 id="JaniceFreeDetections">janice_free_detections</h2>
<p>Free any memory associated with an array of
<a href="../typedefs/#JaniceDetection">JaniceDetection</a> objects. This function should
free memory allocated for the underlying detection objects AND memory allocated
for the array.</p>
<h4 id="JaniceFreeDetectionsSignature">Signature</h4>
<pre class="code"><code>JANICE_EXPORT JaniceError janice_free_detections(JaniceDetections* detection,
                                                 uint32_t num_detections);</code></pre>


<h4 id="JaniceFreeDetectionsThreadSafety">Thread Safety</h4>
<p>This function is reentrant.</p>
<h4 id="JaniceFreeDetectionsParameters">Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>detections</td>
<td><a href="../typedefs/#JaniceDetections">JaniceDetections*</a></td>
<td>An array of detections to free. Best practice dictates the pointer should be set to <code>NULL</code> after it is freed.</td>
</tr>
</tbody>
</table>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../enrollment/overview/" class="btn btn-neutral float-right" title="Overview">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../typedefs/" class="btn btn-neutral" title="Typedefs"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../typedefs/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../../enrollment/overview/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../../../js/theme.js"></script>

</body>
</html>
